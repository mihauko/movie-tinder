(this["webpackJsonpmovie-tinder"]=this["webpackJsonpmovie-tinder"]||[]).push([[0],{43:function(e,n,t){e.exports=t(69)},48:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(12),i=t.n(c),o=(t(48),t(8)),u=t(9);function l(){var e=Object(o.a)(["\n  max-width: 500px;\n"]);return l=function(){return e},e}var f=u.a.main(l()),d=a.a.createContext();function s(){var e=Object(o.a)(["\n    font-size: 2rem;\n    line-height: 2rem;\n    text-align: center;\n    padding: 1rem;\n"]);return s=function(){return e},e}var v=u.a.header(s()),m=function(e){var n=e.title,t=e.rating;return a.a.createElement(v,null,"".concat(n," ").concat(t,"/10"))};function p(){var e=Object(o.a)(["\n  background: url(",") center center / cover no-repeat rgb(250, 250, 250);\n  width: 100%;\n  min-height: 15rem;\n  flex: 1 0 auto;\n"]);return p=function(){return e},e}var E=u.a.div(p(),(function(e){return e.src})),h=function(e){var n=e.src,t=e.title;return a.a.createElement(E,{src:n,title:t})};function b(){var e=Object(o.a)(["\n    padding: 1rem;\n"]);return b=function(){return e},e}var g=u.a.p(b()),j=function(e){var n=e.summary;return a.a.createElement(g,null,n)},O=t(70),C=Object.freeze({ACCEPT:"accept",REJECT:"reject"}),x=t(85);function k(){var e=Object(o.a)(["\n  height: 50px;\n  \n  .MuiButton-containedPrimary {\n    background-color: forestgreen;\n    \n    &:focus {\n      background-color: forestgreen;\n    }\n  }\n"]);return k=function(){return e},e}var w=Object(u.a)(x.a)(k()),y=function(e){var n=e.handleClick;return a.a.createElement(w,{fullWidth:!0,color:"secondary","aria-label":"outlined secondary button group"},a.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){return n(C.ACCEPT)}},"Accept"),a.a.createElement(O.a,{color:"secondary",variant:"contained",onClick:function(){return n(C.REJECT)}},"Reject"))},S=t(38);function R(){var e=Object(o.a)(["\n  max-width: 100vw;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return R=function(){return e},e}var T=u.a.article(R()),A=function(e){var n=e.children,t=e.handleSwipe,r=Object(S.a)({onSwipedLeft:function(){return t(C.REJECT)},onSwipedRight:function(){return t(C.REJECT)},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return a.a.createElement(T,Object.assign({id:"swipeable"},r),n)},J=function(){return a.a.createElement(d.Consumer,null,(function(e){var n=e.isLoadingData,t=e.filteredMovie,r=e.handleClick;return n?a.a.createElement("div",null,"Loading data.."):t?a.a.createElement(A,{handleSwipe:r},a.a.createElement(m,{title:t.title,rating:t.rating}),a.a.createElement(h,{title:t.title,src:t.imageURL}),a.a.createElement(j,{summary:t.summary}),a.a.createElement(y,{handleClick:r})):a.a.createElement("div",null,"Sorry, there is not data.")}))},L=t(19),M=t.n(L),P=t(40),D=t(23),z=t(22),B=t(24),I=t.n(B),N=function(e){var n=e.children,t=Object(r.useState)([]),c=Object(z.a)(t,2),i=c[0],o=c[1],u=Object(r.useState)(!1),l=Object(z.a)(u,2),f=l[0],s=l[1],v=function(e){var n=Object(r.useRef)();return Object(r.useEffect)((function(){n.current=e})),n.current}(i),m=Object(r.useState)([]),p=Object(z.a)(m,2),E=p[0],h=p[1],b=function(e){var n=e.find((function(e){return void 0===e.isAccepted}));h(n)},g=function(e){var n=i.findIndex((function(n){return n.id===e.id}));i[n]=e,o(i),b(i)},j=function(){var e=Object(D.a)(M.a.mark((function e(n){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("".concat("http://127.0.0.1:3001/recommendations/").concat(E.id,"/").concat(n),Object(P.a)({},E,{isAccepted:C.ACCEPT===n}));case 3:t=e.sent,g(t.data),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){var e=Object(D.a)(M.a.mark((function e(){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("http://127.0.0.1:3001/recommendations/");case 3:(n=e.sent)&&(s(!1),o(n.data)),console.log("Not yet get response - loading"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();void 0===v&&(s(!0),e()),i&&b(i)}),[v,i]);var O={isLoadingData:f,filteredMovie:E,handleClick:j};return a.a.createElement(d.Provider,{value:O},n)},U=function(){return a.a.createElement(N,null,a.a.createElement(J,null))};var W=function(){return a.a.createElement(f,null,a.a.createElement(U,null))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(W,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.4396bf7e.chunk.js.map